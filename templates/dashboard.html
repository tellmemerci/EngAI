{% extends 'users/base.html' %}
{% load static %}
{% csrf_token %}

{% block title %}–ú–æ–π –ø–ª–∞–Ω - EngAI{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
{% endblock %}

{% block content %}
<div class="dashboard-container">
    <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å -->
    <div class="dashboard-left">
        <!-- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ -->
        <div class="welcome-section">
            <h1 class="welcome-title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ EngAI!</h1>
            <p class="welcome-subtitle">–ò–∑—É—á–∞–π—Ç–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫ —Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫–æ–º</p>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ –æ–±—É—á–µ–Ω–∏—è -->
        <div class="learning-section">
            <button class="learning-btn" onclick="startLearning()">
                <div class="learning-btn-icon">
                    <span>üéì</span>
                </div>
                <div class="learning-btn-content">
                    <h3>–ù–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ</h3>
                    <p>–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–∑—É—á–µ–Ω–∏–µ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ</p>
                </div>
                <div class="learning-btn-arrow">
                    <span>‚Üí</span>
                </div>
            </button>
        </div>

        <!-- –ö–∞—Ä—Ç–∏–Ω–∫–∞/–∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è -->
        <div class="illustration-section">
            <div class="illustration-card">
                <div class="learning-illustration">
                    <img src="{% static 'images/learning-illustration.svg' %}" alt="–û–±—É—á–µ–Ω–∏–µ" class="illustration-image">
                </div>
                <h4>–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ</h4>
                <p>–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–æ–¥ –≤–∞—à —É—Ä–æ–≤–µ–Ω—å –∑–Ω–∞–Ω–∏–π –∏ —Ç–µ–º–ø –æ–±—É—á–µ–Ω–∏—è</p>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">15</div>
                    <div class="stat-label">–£—Ä–æ–∫–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">87%</div>
                    <div class="stat-label">–¢–æ—á–Ω–æ—Å—Ç—å</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">5</div>
                    <div class="stat-label">–î–Ω–µ–π –ø–æ–¥—Ä—è–¥</div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å -->
    <div class="dashboard-right">
        <!-- –ú–æ–π —É—á–∏—Ç–µ–ª—å -->
        <div class="teacher-section">
            <div class="section-header">
                <h2>–ú–æ–π —É—á–∏—Ç–µ–ª—å</h2>
                <span class="coming-soon">—Å–∫–æ—Ä–æ –¥–æ–±–∞–≤–∏–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª</span>
            </div>
            <div class="teacher-card">
                <div class="teacher-avatar">
                    <img src="{% static 'images/ai-teacher-avatar.svg' %}" alt="EngAI Assistant" class="teacher-avatar-image">
                </div>
                <div class="teacher-info">
                    <h3>EngAI Assistant</h3>
                    <p class="teacher-description">–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞</p>
                    <div class="teacher-features">
                        <div class="feature-tag">–ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ</div>
                        <div class="feature-tag">24/7 –ø–æ–¥–¥–µ—Ä–∂–∫–∞</div>
                        <div class="feature-tag">–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å -->
        <div class="calendar-section">
            <div class="section-header">
                <h2>–ö–∞–ª–µ–Ω–¥–∞—Ä—å</h2>
                <span class="coming-soon">—Å–∫–æ—Ä–æ –¥–æ–±–∞–≤–∏–º –¥–µ–¥–ª–∞–π–Ω—ã –ø–æ –¥–∞—Ç–∞–º</span>
            </div>
            <div class="calendar-container">
                <div class="calendar-header">
                    <button class="calendar-nav" id="prevMonth">‚Äπ</button>
                    <div class="calendar-month-year" id="monthYear">–û–∫—Ç—è–±—Ä—å 2025</div>
                    <button class="calendar-nav" id="nextMonth">‚Ä∫</button>
                </div>
                <div class="calendar-weekdays">
                    <div class="weekday">–ü–Ω</div>
                    <div class="weekday">–í—Ç</div>
                    <div class="weekday">–°—Ä</div>
                    <div class="weekday">–ß—Ç</div>
                    <div class="weekday">–ü—Ç</div>
                    <div class="weekday">–°–±</div>
                    <div class="weekday">–í—Å</div>
                </div>
                <div class="calendar-days" id="calendarDays">
                    <!-- –î–Ω–∏ –±—É–¥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è JavaScript -->
                </div>
            </div>
            
            <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–µ–¥–ª–∞–π–Ω–∞–º–∏ -->
            <div class="deadline-panel" id="deadlinePanel">
                <div class="selected-date">
                    <h3 id="selectedDateTitle">–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É</h3>
                    <div class="date-info" id="dateInfo">
                        <span class="weekday" id="selectedWeekday"></span>
                        <span class="date-number" id="selectedDate"></span>
                    </div>
                </div>
                
                <div class="deadlines-list" id="deadlinesList">
                    <p class="no-deadlines">–ù–µ—Ç –¥–µ–¥–ª–∞–π–Ω–æ–≤ –Ω–∞ —ç—Ç—É –¥–∞—Ç—É</p>
                </div>
                
                <button class="create-deadline-btn" id="createDeadlineBtn">
                    <span class="btn-icon">+</span>
                    <span class="btn-text">–°–æ–∑–¥–∞—Ç—å –¥–µ–¥–ª–∞–π–Ω</span>
                </button>
            </div>
        </div>

    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–µ–¥–ª–∞–π–Ω–∞ -->
<div class="deadline-modal" id="deadlineModal">
    <div class="modal-overlay" id="modalOverlay"></div>
    <div class="modal-content">
        <div class="modal-header">
            <h2>–°–æ–∑–¥–∞—Ç—å –¥–µ–¥–ª–∞–π–Ω</h2>
            <button class="modal-close" id="modalClose">&times;</button>
        </div>
        
        <form class="deadline-form" id="deadlineForm">
            <div class="form-group">
                <label for="deadlineTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –¥–µ–¥–ª–∞–π–Ω–∞</label>
                <input type="text" id="deadlineTitle" name="title" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ù–∞–ø–∏—Å–∞—Ç—å —ç—Å—Å–µ" required>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="deadlineDate">–î–∞—Ç–∞</label>
                    <input type="date" id="deadlineDate" name="date" required>
                </div>
                
                <div class="form-group">
                    <label for="deadlineTime">–í—Ä–µ–º—è</label>
                    <input type="time" id="deadlineTime" name="time" value="23:59">
                </div>
            </div>
            
            <div class="form-group">
                <label for="deadlineDescription">–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                <textarea id="deadlineDescription" name="description" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è..."></textarea>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="deadlinePriority">–í–∞–∂–Ω–æ—Å—Ç—å</label>
                    <select id="deadlinePriority" name="priority">
                        <option value="low">–ù–∏–∑–∫–∞—è</option>
                        <option value="medium" selected>–°—Ä–µ–¥–Ω—è—è</option>
                        <option value="high">–í—ã—Å–æ–∫–∞—è</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>–¶–≤–µ—Ç</label>
                    <div class="color-picker">
                        <input type="radio" id="color-blue" name="color" value="#2196f3" checked>
                        <label for="color-blue" class="color-option" style="background: #2196f3;"></label>
                        
                        <input type="radio" id="color-green" name="color" value="#4caf50">
                        <label for="color-green" class="color-option" style="background: #4caf50;"></label>
                        
                        <input type="radio" id="color-orange" name="color" value="#ff9800">
                        <label for="color-orange" class="color-option" style="background: #ff9800;"></label>
                        
                        <input type="radio" id="color-red" name="color" value="#f44336">
                        <label for="color-red" class="color-option" style="background: #f44336;"></label>
                        
                        <input type="radio" id="color-purple" name="color" value="#9c27b0">
                        <label for="color-purple" class="color-option" style="background: #9c27b0;"></label>
                        
                        <input type="radio" id="color-indigo" name="color" value="#3f51b5">
                        <label for="color-indigo" class="color-option" style="background: #3f51b5;"></label>
                    </div>
                </div>
            </div>
            
            <div class="form-actions">
                <button type="button" class="btn-cancel" id="cancelBtn">–û—Ç–º–µ–Ω–∞</button>
                <button type="submit" class="btn-save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </form>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–µ–¥–ª–∞–π–Ω–∞ -->
<div class="deadline-modal" id="editDeadlineModal">
    <div class="modal-overlay" id="editModalOverlay"></div>
    <div class="modal-content">
        <div class="modal-header">
            <h2>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–µ–¥–ª–∞–π–Ω</h2>
            <button class="modal-close" id="editModalClose">&times;</button>
        </div>
        
        <form class="deadline-form" id="editDeadlineForm">
            <div class="form-group">
                <label for="editDeadlineTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –¥–µ–¥–ª–∞–π–Ω–∞</label>
                <input type="text" id="editDeadlineTitle" name="title" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ù–∞–ø–∏—Å–∞—Ç—å —ç—Å—Å–µ" required>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="editDeadlineDate">–î–∞—Ç–∞</label>
                    <input type="date" id="editDeadlineDate" name="date" required>
                </div>
                
                <div class="form-group">
                    <label for="editDeadlineTime">–í—Ä–µ–º—è</label>
                    <input type="time" id="editDeadlineTime" name="time" value="23:59">
                </div>
            </div>
            
            <div class="form-group">
                <label for="editDeadlineDescription">–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                <textarea id="editDeadlineDescription" name="description" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è..."></textarea>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="editDeadlinePriority">–í–∞–∂–Ω–æ—Å—Ç—å</label>
                    <select id="editDeadlinePriority" name="priority">
                        <option value="low">–ù–∏–∑–∫–∞—è</option>
                        <option value="medium" selected>–°—Ä–µ–¥–Ω—è—è</option>
                        <option value="high">–í—ã—Å–æ–∫–∞—è</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>–¶–≤–µ—Ç</label>
                    <div class="color-picker">
                        <input type="radio" id="edit-color-blue" name="color" value="#2196f3" checked>
                        <label for="edit-color-blue" class="color-option" style="background: #2196f3;"></label>
                        
                        <input type="radio" id="edit-color-green" name="color" value="#4caf50">
                        <label for="edit-color-green" class="color-option" style="background: #4caf50;"></label>
                        
                        <input type="radio" id="edit-color-orange" name="color" value="#ff9800">
                        <label for="edit-color-orange" class="color-option" style="background: #ff9800;"></label>
                        
                        <input type="radio" id="edit-color-red" name="color" value="#f44336">
                        <label for="edit-color-red" class="color-option" style="background: #f44336;"></label>
                        
                        <input type="radio" id="edit-color-purple" name="color" value="#9c27b0">
                        <label for="edit-color-purple" class="color-option" style="background: #9c27b0;"></label>
                        
                        <input type="radio" id="edit-color-indigo" name="color" value="#3f51b5">
                        <label for="edit-color-indigo" class="color-option" style="background: #3f51b5;"></label>
                    </div>
                </div>
            </div>
            
            <div class="form-actions">
                <button type="button" class="btn-cancel" id="editCancelBtn">–û—Ç–º–µ–Ω–∞</button>
                <button type="submit" class="btn-save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
            </div>
        </form>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω–∏—è -->
<div class="deadline-modal" id="deleteConfirmModal">
    <div class="modal-overlay" id="deleteModalOverlay"></div>
    <div class="modal-content delete-modal">
        <div class="modal-header">
            <h2>–£–¥–∞–ª–∏—Ç—å –¥–µ–¥–ª–∞–π–Ω?</h2>
            <button class="modal-close" id="deleteModalClose">&times;</button>
        </div>
        
        <div class="delete-content">
            <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –¥–µ–¥–ª–∞–π–Ω?</p>
            <p class="delete-deadline-title" id="deleteDeadlineTitle"></p>
            <p class="delete-warning">–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.</p>
        </div>
        
        <div class="form-actions">
            <button type="button" class="btn-cancel" id="deleteCancelBtn">–û—Ç–º–µ–Ω–∞</button>
            <button type="button" class="btn-delete" id="confirmDeleteBtn">–£–¥–∞–ª–∏—Ç—å</button>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/dashboard.js' %}"></script>
{% endblock %}
